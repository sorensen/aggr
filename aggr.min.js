;(function(){"use strict";function s(e,t){e=e||{};if(!t)return e;for(var n in t)e[n]=t[n];return e}function o(u,a,f,l){r.call(f)==="[object Function]"&&(l=f,f={});var c=s({},o.defaults),h=s(c,f||{}),p=h.extra&&r.call(h.extra==="[object Function]")?h.extra:h.noop?i:!1,d=h.iterator,v=h.duration||typeof exports=="undefined"?setTimeout:process.nextTick,m;e[u]=e[u]||[],t[u]=t[u]||[],e[u].push(a),e[u].length>1?t[u].push(p||l):t[u].push(l);if(e[u].length>1&&!h.debounce)return;n[u]&&clearTimeout(n[u]),n[u]=v(function(){while(e[u].length)m=d(m,e[u].shift());while(t[u].length)t[u].shift()(m);delete e[u],delete t[u],delete n[u]},h.duration)}var e={},t={},n={},r=Object.prototype.toString,i=function(){};o.wrap=function(e,t,n){return r.call(t)==="[object Function]"&&(n=t,t={}),typeof t.noop=="undefined"&&(t.noop=!0),function(r){o(e,r,t,n)}},o.defaults={noop:!1,extra:!1,iterator:s,duration:0,debounce:!1},o.VERSION="0.0.2",typeof exports!="undefined"?module.exports=o:this.aggr=o}).call(this);